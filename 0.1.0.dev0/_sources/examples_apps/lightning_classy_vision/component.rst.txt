
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "examples_apps/lightning_classy_vision/component.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_examples_apps_lightning_classy_vision_component.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_examples_apps_lightning_classy_vision_component.py:


Trainer Component Example
=========================

This is a component definition that runs the example lightning_classy_vision app.

.. GENERATED FROM PYTHON SOURCE LINES 13-55

.. code-block:: default


    import torchx.specs.api as torchx


    def classy_vision(
        image: str,
        output_path: str,
        load_path: str = "",
        log_dir: str = "/logs",
    ) -> torchx.AppDef:
        """Runs the example lightning_classy_vision app.

        Runs the example lightning_classy_vision app.

        Args:
            image: image to run (e.g. foobar:latest)
            resource: resource spec
            output_path: output path for model checkpoints (e.g. file:///foo/bar)
            load_path: path to load pretrained model from
            log_dir: path to save tensorboard logs to
        """
        entrypoint = "main"

        trainer_role = (
            torchx.Role(
                name="trainer",
                image=image,
                resource=torchx.Resource(cpu=1, gpu=1, memMB=1024),
            )
            .runs(
                "main",
                "--output_path",
                output_path,
                "--load_path",
                load_path,
                "--log_dir",
                log_dir,
            )
            .replicas(1)
        )

        return torchx.AppDef("examples-lightning_classy_vision").of(trainer_role)


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  0.000 seconds)


.. _sphx_glr_download_examples_apps_lightning_classy_vision_component.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download sphx-glr-download-python

     :download:`Download Python source code: component.py <component.py>`



  .. container:: sphx-glr-download sphx-glr-download-jupyter

     :download:`Download Jupyter notebook: component.ipynb <component.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
